AFTER : test_single_ccnd
BEFORE : test_single_ccnd_teardown

for ver in 0 1 2 3; do
  for blk in 0 1 2 3 4; do
    echo "block $blk in version $ver" | ccnput /test/child_selector/$ver/$blk
  done
done

ccn_xmltoccnb -w - <<EOF >child_selector.ccnb
<Interest>
  <Name>
    <Component ccnbencoding="text">test</Component>
    <Component ccnbencoding="text">child_selector</Component>
  </Name>
  <ChildSelector>1</ChildSelector>
</Interest>
EOF

ccndsmoketest -b child_selector.ccnb recv > child_selector_reply.ccnb
ccnbx -d child_selector_reply.ccnb Content > child_selector_got.txt
echo "block 0 in version 3" > child_selector_expected.txt
diff child_selector_got.txt child_selector_expected.txt || Fail did not get expected

rm -f child_selector*.ccnb child_selector*.txt
